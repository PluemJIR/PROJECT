{"ast":null,"code":"var _jsxFileName = \"/Users/pluemjir/Documents/CODECAMP ONLINE/Project/urlique-project/src/component/BookingCard/BookingCardAntd.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Button, List } from 'antd';\nimport { UserOutlined } from '@ant-design/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BookingCardAntd = () => {\n  _s();\n\n  let username = '';\n\n  const getUsername = async () => {\n    const token = await localStorageService.getToken();\n\n    if (token) {\n      const user = jwtDecode(token); // console.log(user.name)\n\n      username = user.name;\n    }\n  };\n\n  const myBooking = [];\n  const incomeBooking = [];\n\n  const fetchReservation = async () => {\n    const httpResponse = await axios.get('http://localhost:5000/reservation');\n    const result = await axios.get(`http://localhost:5000/users/${username}`);\n    httpResponse.data.map(x => {\n      if (x.user_id === result.data.id) {\n        myBooking.push(x); // console.log(myBooking)\n      }\n\n      if (x.toId === result.data.id) {\n        incomeBooking.push(x);\n        console.log(incomeBooking);\n      }\n    });\n  };\n\n  const getAlldata = async () => {\n    await getUsername();\n    await fetchReservation();\n  };\n\n  useEffect(() => {\n    getAlldata();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(List, {\n    itemLayout: \"vertical\",\n    size: \"large\",\n    style: {\n      backgroundColor: 'white'\n    },\n    dataSource: listData,\n    renderItem: item => /*#__PURE__*/_jsxDEV(List.Item, {\n      extra: /*#__PURE__*/_jsxDEV(\"img\", {\n        width: 272,\n        alt: \"logo\",\n        src: \"https://gw.alipayobjects.com/zos/rmsportal/mqaQswcyDLcXyDKnZfES.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(List.Item.Meta, {\n        title: item.restaurant,\n        description: item.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this), item.number]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BookingCardAntd, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = BookingCardAntd;\nexport default BookingCardAntd;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookingCardAntd\");","map":{"version":3,"sources":["/Users/pluemjir/Documents/CODECAMP ONLINE/Project/urlique-project/src/component/BookingCard/BookingCardAntd.js"],"names":["React","Button","List","UserOutlined","BookingCardAntd","username","getUsername","token","localStorageService","getToken","user","jwtDecode","name","myBooking","incomeBooking","fetchReservation","httpResponse","axios","get","result","data","map","x","user_id","id","push","toId","console","log","getAlldata","useEffect","backgroundColor","listData","item","restaurant","description","number"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,MAA7B;AACA,SAASC,YAAT,QAA6B,mBAA7B;;;AAIA,MAAMC,eAAe,GAAG,MAAM;AAAA;;AAE1B,MAAIC,QAAQ,GAAG,EAAf;;AACA,QAAMC,WAAW,GAAG,YAAY;AAC5B,UAAMC,KAAK,GAAG,MAAMC,mBAAmB,CAACC,QAApB,EAApB;;AACA,QAAIF,KAAJ,EAAW;AACP,YAAMG,IAAI,GAAGC,SAAS,CAACJ,KAAD,CAAtB,CADO,CAEP;;AACAF,MAAAA,QAAQ,GAAGK,IAAI,CAACE,IAAhB;AACH;AACJ,GAPD;;AASA,QAAMC,SAAS,GAAG,EAAlB;AACA,QAAMC,aAAa,GAAG,EAAtB;;AACA,QAAMC,gBAAgB,GAAG,YAAY;AACjC,UAAMC,YAAY,GAAG,MAAMC,KAAK,CAACC,GAAN,CAAU,mCAAV,CAA3B;AACA,UAAMC,MAAM,GAAG,MAAMF,KAAK,CAACC,GAAN,CAAW,+BAA8Bb,QAAS,EAAlD,CAArB;AACAW,IAAAA,YAAY,CAACI,IAAb,CAAkBC,GAAlB,CAAuBC,CAAC,IAAI;AACxB,UAAIA,CAAC,CAACC,OAAF,KAAcJ,MAAM,CAACC,IAAP,CAAYI,EAA9B,EAAiC;AAC7BX,QAAAA,SAAS,CAACY,IAAV,CAAeH,CAAf,EAD6B,CAE7B;AACH;;AACD,UAAIA,CAAC,CAACI,IAAF,KAAWP,MAAM,CAACC,IAAP,CAAYI,EAA3B,EAA8B;AAC1BV,QAAAA,aAAa,CAACW,IAAd,CAAmBH,CAAnB;AACAK,QAAAA,OAAO,CAACC,GAAR,CAAYd,aAAZ;AACH;AACJ,KATD;AAUH,GAbD;;AAeA,QAAMe,UAAU,GAAG,YAAY;AAC3B,UAAMvB,WAAW,EAAjB;AACA,UAAMS,gBAAgB,EAAtB;AACH,GAHD;;AAKAe,EAAAA,SAAS,CAAC,MAAM;AACZD,IAAAA,UAAU;AACb,GAFQ,EAEP,EAFO,CAAT;AAGA,sBACI,QAAC,IAAD;AACI,IAAA,UAAU,EAAC,UADf;AAEI,IAAA,IAAI,EAAC,OAFT;AAGI,IAAA,KAAK,EAAE;AAACE,MAAAA,eAAe,EAAC;AAAjB,KAHX;AAII,IAAA,UAAU,EAAEC,QAJhB;AAKI,IAAA,UAAU,EAAEC,IAAI,iBACZ,QAAC,IAAD,CAAM,IAAN;AAEI,MAAA,KAAK,eACD;AACI,QAAA,KAAK,EAAE,GADX;AAEI,QAAA,GAAG,EAAC,MAFR;AAGI,QAAA,GAAG,EAAC;AAHR;AAAA;AAAA;AAAA;AAAA,cAHR;AAAA,8BAUI,QAAC,IAAD,CAAM,IAAN,CAAW,IAAX;AACI,QAAA,KAAK,EAAEA,IAAI,CAACC,UADhB;AAEI,QAAA,WAAW,EAAED,IAAI,CAACE;AAFtB;AAAA;AAAA;AAAA;AAAA,cAVJ,EAcKF,IAAI,CAACG,MAdV;AAAA,OACSH,IAAI,CAACT,EADd;AAAA;AAAA;AAAA;AAAA;AANR;AAAA;AAAA;AAAA;AAAA,UADJ;AA0BH,CA/DD;;GAAMpB,e;;KAAAA,e;AAiEN,eAAeA,eAAf","sourcesContent":["import React from 'react'\nimport { Button, List } from 'antd';\nimport { UserOutlined } from '@ant-design/icons';\n\n\n\nconst BookingCardAntd = () => {\n\n    let username = ''\n    const getUsername = async () => {\n        const token = await localStorageService.getToken();\n        if (token) {\n            const user = jwtDecode(token)\n            // console.log(user.name)\n            username = user.name\n        }\n    }\n\n    const myBooking = []\n    const incomeBooking = []\n    const fetchReservation = async () => {\n        const httpResponse = await axios.get('http://localhost:5000/reservation')\n        const result = await axios.get(`http://localhost:5000/users/${username}`)\n        httpResponse.data.map( x => {\n            if (x.user_id === result.data.id){\n                myBooking.push(x)\n                // console.log(myBooking)\n            }\n            if (x.toId === result.data.id){\n                incomeBooking.push(x)\n                console.log(incomeBooking)\n            }\n        })\n    }\n\n    const getAlldata = async () => {\n        await getUsername()\n        await fetchReservation()\n    }\n\n    useEffect(() => {\n        getAlldata()\n    },[])\n    return (\n        <List\n            itemLayout=\"vertical\"\n            size=\"large\"\n            style={{backgroundColor:'white'}}\n            dataSource={listData}\n            renderItem={item => (\n                <List.Item\n                    key={item.id}\n                    extra={\n                        <img\n                            width={272}\n                            alt=\"logo\"\n                            src=\"https://gw.alipayobjects.com/zos/rmsportal/mqaQswcyDLcXyDKnZfES.png\"\n                        />\n                    }\n                >\n                    <List.Item.Meta\n                        title={item.restaurant}\n                        description={item.description}\n                    />\n                    {item.number}\n                </List.Item>\n            )}\n        />\n    )\n}\n\nexport default BookingCardAntd"]},"metadata":{},"sourceType":"module"}